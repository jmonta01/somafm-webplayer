<div class="tall-header row">
    <img class="img-responsive" src="../images/header/list_header.jpg" />
</div>

<div class="list-titlebar row">
    <div class="col-xs-4 title">
        Fav Stations
    </div>
    <div class="col-xs-8">
        <div class="btn-group btn-group-sm pull-right">
            <button class="btn btn-primary {{organizeMethod === 'name' ? 'active' : ''}}" ng-click="sortBy('name')">Name</button>
            <button class="btn btn-primary {{organizeMethod === 'popularity' ? 'active' : ''}}" ng-click="sortBy('popularity')">Popularity</button>
            <button class="btn btn-primary {{organizeMethod === 'genre' ? 'active' : ''}}" ng-click="sortBy('genre')">Genre</button>
        </div>
    </div>
</div>

<list>
    <div class="row card" ng-repeat="station in organizedStations" ng-if="organizeMethod !== 'genre'">
        <div class="col-xs-2 img-col">
            <img class="img-responsive" src="{{station.image}}" />
        </div>
        <div class="col-xs-8 copy-col">
            <h4>{{station.title}}</h4>
            <p>{{station.description}}</p>
            <p class="small">{{station.listeners}} listeners</p>
        </div>
        <div class="col-xs-2">
            <button class="btn btn-link btn-lg pull-right" ng-click="playStation(station)" ng-show="$root.playingStation !== station">
                <span class="glyphicon glyphicon-play"></span>
            </button>
            <button class="btn btn-link btn-lg pull-right" ng-click="stopStation(station)" ng-show="$root.playingStation === station">
                <span class="glyphicon glyphicon-stop"></span>
            </button>
            <button class="btn btn-link btn-lg btn-fav pull-right" ng-click="removeStation(station)">
                <span class="glyphicon glyphicon-star"></span>
            </button>
        </div>
    </div>

    <div class="row" ng-repeat="genre in organizedGenres" ng-if="organizeMethod === 'genre'">
        <div class="genre">{{genre | uppercase}}</div>

        <div class="card" ng-repeat="station in organizedStations[genre]">
            <div class="col-xs-2 img-col">
                <img class="img-responsive" src="{{station.image}}" />
            </div>
            <div class="col-xs-8 copy-col">
                <h4>{{station.title}}</h4>
                <p>{{station.description}}</p>
                <p class="small">{{station.listeners}} listeners</p>
            </div>
            <div class="col-xs-2">
                <button class="btn btn-link btn-lg pull-right" ng-click="playStation(station)" ng-show="$root.playingStation !== station">
                    <span class="glyphicon glyphicon-play"></span>
                </button>
                <button class="btn btn-link btn-lg pull-right" ng-click="stopStation(station)" ng-show="$root.playingStation === station">
                    <span class="glyphicon glyphicon-stop"></span>
                </button>
                <button class="btn btn-link btn-lg btn-fav pull-right ng-click="removeStation(station)">
                    <span class="glyphicon glyphicon-star"></span>
                </button>
            </div>
        </div>
    </div>
</list>
